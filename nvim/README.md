# Neovim 設定

このリポジトリには私の個人的な Neovim 設定ファイルが含まれています。この設定は [lazy.nvim](https://github.com/folke/lazy.nvim) をプラグインマネージャーとして使用し、モジュラー構造で整理されています。

## 構造

- `init.lua` - メインのエントリーポイント（設定の読み込み）
- `lua/lazy_setup.lua` - プラグインマネージャーのセットアップ
- `lua/keymaps.lua` - カスタムキーバインド
- `lua/plugins/` - プラグイン設定

## 機能

- **プラグイン管理**: 効率的なプラグイン読み込みのための lazy.nvim を使用
- **LSP サポート**: 言語サーバー管理のための mason.nvim を設定
- **自動補完**: Copilot 統合付きの nvim-cmp を使用
- **ファイルナビゲーション**: 
  - あいまい検索のための Telescope
  - ファイル管理のための Oil.nvim
- **Git 統合**: Lazygit と Gitsigns を使用
- **UI 強化**: 
  - Catppuccin カラースキーム
  - より良い構文ハイライトのための Treesitter
  - lualine によるカスタムステータスライン
  - 様々な視覚的改善（hlchunk, hlslens, scrollbar など）
- **コード補助**:
  - better-ts-errors による TypeScript エラー表示の改善
  - null-ls による追加のコード分析と整形
  - comment.nvim によるコメント操作
  - fterm による組み込みターミナル

## キーマッピング

### 基本操作
- リーダーキー: `,`
- `<leader>ff` - Telescope でファイル検索
- `<leader>fg` - Telescope でテキスト検索
- `<leader>fb` - バッファ一覧
- `<leader>fh` - ヘルプタグ
- `<leader>o` - Oil ファイルエクスプローラーを開く
- `<leader>y` - クリップボードにコピー
- `<leader>p` - クリップボードから貼り付け
- `<leader>ct` - Copilot のトグル

### TypeScript 開発 - LSP ナビゲーション機能

#### 定義・実装へのジャンプ
- `gd` - **定義へジャンプ** - 変数、関数、クラスの定義位置に移動
- `gD` - **宣言へジャンプ** - 変数・関数の宣言位置に移動
- `gi` - **実装へジャンプ** - インターフェースの実装位置に移動
- `<leader>D` - **型定義へジャンプ** - 型の定義位置に移動
- `<C-o>` - **前の位置に戻る** - ジャンプ前の位置に戻る
- `<C-i>` - **次の位置に進む** - ジャンプ履歴で次の位置に進む

#### 参照と検索
- `gr` - **参照を表示** - 現在のシンボルが使用されている箇所を一覧表示
- `<leader>lf` - **LSPSaga Finder** - 定義・参照・実装を統合的に表示

#### 情報表示
- `K` - **ホバー情報** - カーソル位置の変数・関数の詳細情報を表示
- `<C-k>` - **シグネチャヘルプ** - 関数の引数情報を表示
- `<leader>ld` - **定義をプレビュー** - 定義を浮動ウィンドウで表示（移動せずに確認）

#### コード操作
- `<leader>ca` - **コードアクション** - 利用可能なコード修正を表示
- `<leader>la` - **LSPSaga コードアクション** - 改善されたUIでコードアクションを表示
- `<leader>rn` - **変数名変更** - シンボルの名前を一括変更
- `<leader>lr` - **LSPSaga 変数名変更** - 改善されたUIで変数名変更
- `<leader>f` - **コードフォーマット** - 現在のファイルを整形

#### 診断・エラー
- `<leader>d` - **診断情報表示** - カーソル位置のエラー・警告の詳細を表示
- `[d` - **前の診断へ移動** - 前のエラー・警告位置に移動
- `]d` - **次の診断へ移動** - 次のエラー・警告位置に移動

#### プロジェクト構造
- `<leader>lo` - **アウトライン表示** - ファイル内の関数・クラス一覧を表示
- `<leader>wa` - **ワークスペースフォルダ追加**
- `<leader>wr` - **ワークスペースフォルダ削除**
- `<leader>wl` - **ワークスペースフォルダ一覧表示**

### Git 統合
- `<leader>gg` - LazyGit を開く

## LSP 設定

この設定には Mason を通じた言語サーバーの自動インストールと設定が含まれています。以下の言語サーバーが設定されています：

- TypeScript (typescript-language-server)
- ESLint
- Lua (lua-language-server)
- Ruby (solargraph)

また、LSPSaga を使用したUIの改善や、保存時の自動フォーマットも設定されています。

## インストール

1. このリポジトリを `~/.config/nvim` ディレクトリにクローンします：
   ```bash
   git clone https://github.com/yourusername/dotfiles.git ~/.config/nvim
   ```

2. Neovim を起動すると、lazy.nvim が自動的に設定されたすべてのプラグインをインストールします。

## カスタマイズ

プラグインを追加または変更するには、`lua/plugins/` ディレクトリ内のファイルを追加または編集します。各プラグインは独自のファイルで設定されており、個々のプラグインを簡単に追加、削除、または変更できます。